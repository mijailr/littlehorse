"use strict";(self.webpackChunklh_site=self.webpackChunklh_site||[]).push([[9737],{7818:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>i,contentTitle:()=>s,default:()=>p,frontMatter:()=>l,metadata:()=>o,toc:()=>c});var r=n(4848),a=n(8453);const l={sidebar_label:"Install Operator"},s="Installing the LittleHorse Operator",o={id:"platform/install-operator",title:"Installing the LittleHorse Operator",description:"lh-operator needs to be installed in the same namespace as strimzi, for the strimze features to work",source:"@site/docs/07-platform/01-install-operator.md",sourceDirName:"07-platform",slug:"/platform/install-operator",permalink:"/docs/platform/install-operator",draft:!1,unlisted:!1,tags:[],version:"current",sidebarPosition:1,frontMatter:{sidebar_label:"Install Operator"},sidebar:"tutorialSidebar",previous:{title:"LH Platform",permalink:"/docs/platform/"},next:{title:"Quickstart Reference",permalink:"/docs/platform/lh-cluster-quickstart"}},i={},c=[{value:"Create the ImagePullSecret",id:"create-the-imagepullsecret",level:2},{value:"Install using Helm",id:"install-using-helm",level:2},{value:"Install using Helm and ArgoCD",id:"install-using-helm-and-argocd",level:2}];function h(e){const t={a:"a",blockquote:"blockquote",code:"code",h1:"h1",h2:"h2",p:"p",pre:"pre",...(0,a.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(t.h1,{id:"installing-the-littlehorse-operator",children:"Installing the LittleHorse Operator"}),"\n",(0,r.jsxs)(t.blockquote,{children:["\n",(0,r.jsxs)(t.p,{children:[(0,r.jsx)(t.code,{children:"lh-operator"})," needs to be installed in the same namespace as strimzi, for the strimze features to work"]}),"\n"]}),"\n",(0,r.jsx)(t.h2,{id:"create-the-imagepullsecret",children:"Create the ImagePullSecret"}),"\n",(0,r.jsxs)(t.blockquote,{children:["\n",(0,r.jsxs)(t.p,{children:["As described in the ",(0,r.jsx)(t.a,{href:"/docs/platform/",children:"Overview"}),", this section assumes that you have already obtained an LH Platform license."]}),"\n"]}),"\n",(0,r.jsxs)(t.p,{children:["Create the secret needed to pull the lh-operator image from Quay. This secret will be used in the ",(0,r.jsx)(t.code,{children:"lh-operator"})," helm chart. Make sure to create the secret on the same namespace where the ",(0,r.jsx)(t.code,{children:"lh-operator"})," will be installed."]}),"\n",(0,r.jsx)(t.pre,{children:(0,r.jsx)(t.code,{className:"language-yaml",children:"apiVersion: v1\nkind: Secret\nmetadata:\n  name: <name-of-the-imagepullsecret>\n  namespace: <namespace>\ndata:\n  .dockerconfigjson: <base64encoded-secret-provided-by-littlehorse>\ntype: kubernetes.io/dockerconfigjson\n"})}),"\n",(0,r.jsx)(t.h2,{id:"install-using-helm",children:"Install using Helm"}),"\n",(0,r.jsx)(t.p,{children:"Add littlehorse helm charts repository:"}),"\n",(0,r.jsx)(t.pre,{children:(0,r.jsx)(t.code,{className:"language-shell",children:"helm repo add littlehorse https://littlehorse-enterprises.github.io/lh-helm-charts/\n"})}),"\n",(0,r.jsx)(t.p,{children:"Example values.yaml using strimzi:"}),"\n",(0,r.jsx)(t.pre,{children:(0,r.jsx)(t.code,{className:"language-yaml",children:"imagePullSecrets:\n    - name: <name-of-the-imagepullsecret>\nimage:\n    repository: quay.io/littlehorse/lh-operator\n    tag: 0.5.1\nstrimzi:\n    enabled: true\nreplicas: 1\n"})}),"\n",(0,r.jsxs)(t.p,{children:["Install the ",(0,r.jsx)(t.code,{children:"lh-opertor"})," helm chart:"]}),"\n",(0,r.jsx)(t.pre,{children:(0,r.jsx)(t.code,{className:"language-shell",children:"helm upgrade --install \\\n  --namespace <namespace> \\\n  -f <path-to-values-file> \\\n  lh-operator littlehorse/lh-operator\n"})}),"\n",(0,r.jsx)(t.h2,{id:"install-using-helm-and-argocd",children:"Install using Helm and ArgoCD"}),"\n",(0,r.jsx)(t.p,{children:"Example of an installation using ArgoCD:"}),"\n",(0,r.jsx)(t.pre,{children:(0,r.jsx)(t.code,{className:"language-yaml",children:"---\napiVersion: argoproj.io/v1alpha1\nkind: Application\nmetadata:\n  name: littlehorse-operator\n  namespace: <namespace>\nspec:\n  project: <project>\n  source:\n    repoURL: 'https://littlehorse-enterprises.github.io/lh-helm-charts'\n    targetRevision: 0.5.1\n    helm:\n      releaseName: lh-operator\n      values: |-\n        imagePullSecrets:\n            - name: <name-of-the-imagepullsecret>\n        image:\n            repository: quay.io/littlehorse/lh-operator\n            tag: 0.5.1\n        strimzi:\n            enabled: true\n        replicas: 1\n    chart: lh-operator\n  destination:\n    namespace: <destination-namespace>\n    name: in-cluster\n  syncPolicy:\n    automated:\n      prune: true\n      selfHeal: true\n    syncOptions:\n      - CreateNamespace=true\n    retry:\n      limit: 5\n      backoff:\n        duration: 5s\n        factor: 2\n        maxDuration: 3m0s\n"})})]})}function p(e={}){const{wrapper:t}={...(0,a.R)(),...e.components};return t?(0,r.jsx)(t,{...e,children:(0,r.jsx)(h,{...e})}):h(e)}},8453:(e,t,n)=>{n.d(t,{R:()=>s,x:()=>o});var r=n(6540);const a={},l=r.createContext(a);function s(e){const t=r.useContext(l);return r.useMemo((function(){return"function"==typeof e?e(t):{...t,...e}}),[t,e])}function o(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(a):e.components||a:s(e.components),r.createElement(l.Provider,{value:t},e.children)}}}]);